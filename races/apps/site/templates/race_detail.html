{% extends "base.html" %}

{% block extrahead %}
    <script>
function initialize() {
  var myLatlng = new google.maps.LatLng({{race.location.location.latitude}}, {{race.location.location.longitude}});
  var mapOptions = {
    zoom: 12,
    center: myLatlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  var marker = new google.maps.Marker({
      position: myLatlng,
      map: map,
      title: '{{race.location.name}}'
  });
}

google.maps.event.addDomListener(window, 'load', initialize);
    </script>

{% endblock %}

{% block content %}

<h2>{{race.title}}</h2>

<table class='table'>
  <tr><th>Date</th><td>{{race.date}}</td></tr>
  <tr><th>Time</th><td>{{race.time}}</td></tr>
  <tr><th>Location</th><td>{{race.location}}</td></tr>
  <tr><th>Title</th><td>{{race.title}}</td></tr>
  <tr><th>Club</th><td><a href="{% url 'site:club' race.club.id %}">{{race.club}}</a> (<a href='{{race.club.url}}'>Website</a>)</td></tr>
</table>

<p><a href="{{race.url}}">View Race Details</a> on Club website</p>

<div id="map-canvas"></div>

{% endblock %}

